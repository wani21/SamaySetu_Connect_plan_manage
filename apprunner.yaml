version: 1.0
runtime: java17

build:
  commands:
    pre-build:
      - cd Backend
      - chmod +x mvnw
      - ./mvnw clean package -DskipTests
    build:
      - echo "Build completed successfully"
      - ls -la target/

run:
  runtime-version: 17
  command: java -jar Backend/target/samaysetu-0.0.1-SNAPSHOT.jar
  network:
    port: 8080
    env: APP_PORT
  env:
    - name: SERVER_PORT
      value: "8080"
